<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Playing Cards — 3 Columns (Index • Playfield • Mirrored Index)</title>
<style>
  :root{
    /* Resize the whole deck by changing --card-w */
    --card-w: 180px;
    --ratio: 1.4; /* ~2.5×3.5 */
    --card-h: calc(var(--card-w) * var(--ratio));

    /* Proportional metrics */
    --radius: calc(var(--card-w) * 0.07);
    --border-w: calc(var(--card-w) * 0.006);
    --safe-pad: calc(var(--card-w) * 0.06);

    /* Symmetric index columns left & right */
    --index-col-w: calc(var(--card-w) * 0.22);
    --index-gap:   calc(var(--card-w) * 0.03);

    /* Compute playfield box (center column where pips live) */
    --play-left:  calc(var(--safe-pad) + var(--index-col-w) + var(--index-gap));
    --play-right: calc(var(--safe-pad) + var(--index-col-w) + var(--index-gap));
    --play-top:   var(--safe-pad);
    --play-bot:   var(--safe-pad);
    --play-w:     calc(var(--card-w) - var(--play-left) - var(--play-right));
    --play-h:     calc(var(--card-h) - var(--play-top) - var(--play-bot));

    /* Sizes derived from areas (stay proportional) */
    /* Slightly conservative index size so "10" fits without overflow */
    --index-size: clamp(10px, calc(var(--index-col-w) * 0.62), 48px);
    --index-gap-inner: calc(var(--index-col-w) * 0.10);
    /* Pip size based on the playfield width */
    --pip-size: clamp(12px, calc(var(--play-w) * 0.20), 56px);

    --shadow: 0 calc(var(--card-w) * 0.02) calc(var(--card-w) * 0.10) rgba(0,0,0,.18);
    --ink-black:#111; --ink-red:#d0122b; --edge:#dcdde1; --paper:#fff;
  }

  body{margin:0;background:#f6f7fb;font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}
  header{padding:16px 20px}
  header h1{margin:0 0 8px;font-size:clamp(18px,3.4vw,24px)}
  .controls{display:flex;gap:14px;align-items:center;font-size:.95rem;opacity:.9}

  .deck{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(var(--card-w),1fr));
    gap: clamp(10px,2vw,16px);
    padding: 16px 20px 28px;
  }

  .card{
    position:relative;
    width:var(--card-w); height:var(--card-h);
    background:var(--paper);
    border:var(--border-w) solid var(--edge);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    overflow:hidden;
    user-select:none;
  }

  /* LEFT index column (upright) */
  .index-left{
    position:absolute;
    left:var(--safe-pad); top:var(--safe-pad);
    width:var(--index-col-w);
    text-align:left; line-height:1;
    color:var(--ink-black);
    white-space:nowrap;
  }
  .index-left .rank{display:block; font-weight:800; font-size:var(--index-size)}
  .index-left .suit{display:block; margin-top:var(--index-gap-inner); font-size:calc(var(--index-size) * 0.85)}

  /* RIGHT index column (mirrored/upside down) */
  .index-right{
    position:absolute;
    right:var(--safe-pad); bottom:var(--safe-pad);
    width:var(--index-col-w);
    text-align:right; line-height:1;
    color:var(--ink-black);
    white-space:nowrap;
    transform: rotate(180deg);
    transform-origin: center;
  }
  .index-right .rank{display:block; font-weight:800; font-size:var(--index-size)}
  .index-right .suit{display:block; margin-top:var(--index-gap-inner); font-size:calc(var(--index-size) * 0.85)}

  /* Center playfield — all pips live here */
  .pips{
    position:absolute;
    left:var(--play-left); right:var(--play-right);
    top:var(--play-top); bottom:var(--play-bot);
    overflow:hidden;
  }

  .pip{
    position:absolute;
    width:var(--pip-size); height:var(--pip-size);
    font-size:var(--pip-size);
    display:grid; place-items:center;
    transform: translate(-50%,-50%); /* upright, no rotation */
  }

  /* Faces placeholder (centered in playfield) */
  .face{
    position:absolute; inset:0; display:grid; place-items:center;
    font-size: calc(var(--play-w) * 0.55);
    font-weight: 800; opacity:.9;
  }

  /* Suit colors (apply to indices & pips) */
  .card[data-suit="hearts"] .index-left,
  .card[data-suit="hearts"] .index-right,
  .card[data-suit="hearts"] .pip { color: var(--ink-red) }

  .card[data-suit="diamonds"] .index-left,
  .card[data-suit="diamonds"] .index-right,
  .card[data-suit="diamonds"] .pip { color: var(--ink-red) }

  .card[data-suit="spades"] .index-left,
  .card[data-suit="spades"] .index-right,
  .card[data-suit="spades"] .pip { color: var(--ink-black) }

  .card[data-suit="clubs"] .index-left,
  .card[data-suit="clubs"] .index-right,
  .card[data-suit="clubs"] .pip { color: var(--ink-black) }

  /* Card back */
  .back{
    background:
      repeating-linear-gradient(45deg,#0a5635,#0a5635 6px,#0e7448 6px,#0e7448 12px);
    border-color:#0a5635;
  }
  .back::after{
    content:""; position:absolute; inset:calc(var(--safe-pad) * 0.7);
    border-radius:calc(var(--radius) * 0.7);
    border: calc(var(--border-w) * 2) solid rgba(255,255,255,.65);
  }
</style>
</head>
<body>
  <header>
    <h1>Three-Column Playing Cards</h1>
    <div class="controls">
      <label>Card width:
        <input type="range" min="120" max="300" step="1" value="180"
               oninput="document.documentElement.style.setProperty('--card-w', this.value + 'px')">
      </label>
      <label>Height ratio:
        <input id="ratio" type="range" min="120" max="160" step="1" value="140"
               oninput="document.documentElement.style.setProperty('--ratio', (this.value/100))">
        <span id="rval" style="opacity:.65">1.40</span>
      </label>
      <label>Index width:
        <input id="icol" type="range" min="14" max="28" step="1" value="22"
               oninput="document.documentElement.style.setProperty('--index-col-w', this.value + '%')">
        <span id="icolv" style="opacity:.65">22%</span>
      </label>
    </div>
  </header>

  <section class="deck" id="deck"></section>

<script>
/* ===== Base data ===== */
const SUITS = { hearts:"♥", diamonds:"♦", clubs:"♣", spades:"♠" };
const RANKS = ["A","2","3","4","5","6","7","8","9","10","J","Q","K"];

/* Percent anchors INSIDE the playfield (so nothing enters either index column) */
const ROWS = { top2:10, top:18, upper:30, mid:50, lower:70, bot:82, bot2:90 };
const COLS = { left:15, center:50, right:85 }; // relative to playfield width

/* Standard pip maps (A–10), rendered upright in the playfield */
const layouts = {
  "A":  () => [[COLS.center, ROWS.mid]],
  "2":  () => [[COLS.center, ROWS.upper],[COLS.center, ROWS.lower]],
  "3":  () => [[COLS.center, ROWS.upper],[COLS.center, ROWS.mid],[COLS.center, ROWS.lower]],
  "4":  () => [[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower]],
  "5":  () => [[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.center, ROWS.mid],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower]],
  "6":  () => [[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.left, ROWS.mid],[COLS.right, ROWS.mid],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower]],
  "7":  () => [[COLS.center, ROWS.top],[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.left, ROWS.mid],[COLS.right, ROWS.mid],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower]],
  "8":  () => [[COLS.left, ROWS.top2],[COLS.right, ROWS.top2],[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower],[COLS.left, ROWS.bot2],[COLS.right, ROWS.bot2]],
  "9":  () => [[COLS.left, ROWS.top2],[COLS.right, ROWS.top2],[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.center, ROWS.mid],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower],[COLS.left, ROWS.bot2],[COLS.right, ROWS.bot2]],
  "10": () => [[COLS.left, ROWS.top2],[COLS.right, ROWS.top2],[COLS.left, ROWS.upper],[COLS.right, ROWS.upper],[COLS.left, ROWS.mid],[COLS.right, ROWS.mid],[COLS.left, ROWS.lower],[COLS.right, ROWS.lower],[COLS.left, ROWS.bot2],[COLS.right, ROWS.bot2]]
};

/* ===== DOM helpers ===== */
const el = (t,c,h)=>{const n=document.createElement(t); if(c) n.className=c; if(h!=null) n.innerHTML=h; return n;};

function makeCard(suit, rank){
  const card = el("div","card"); card.dataset.suit = suit;

  // LEFT index (upright)
  const idxL = el("div","index-left");
  idxL.innerHTML = `<span class="rank">${rank}</span><span class="suit">${SUITS[suit]}</span>`;
  card.appendChild(idxL);

  // RIGHT index (mirrored/upside-down)
  const idxR = el("div","index-right");
  idxR.innerHTML = `<span class="rank">${rank}</span><span class="suit">${SUITS[suit]}</span>`;
  card.appendChild(idxR);

  // Center playfield (pips)
  const field = el("div","pips");
  card.appendChild(field);

  if (layouts[rank]) {
    const glyph = SUITS[suit];
    layouts[rank]().forEach(([x,y])=>{
      const pip = el("span","pip", glyph);
      pip.style.left = x + "%";
      pip.style.top  = y + "%";
      field.appendChild(pip);
    });
  } else {
    const face = el("div","face", rank); // placeholder; swap with art if desired
    field.appendChild(face);
  }

  return card;
}

/* Build full deck + a couple of backs */
const deck = document.getElementById("deck");
["spades","hearts","clubs","diamonds"].forEach(suit =>
  RANKS.forEach(rank => deck.appendChild(makeCard(suit, rank)))
);
deck.appendChild(el("div","card back"));
deck.appendChild(el("div","card back"));

/* Slider readouts */
const r = document.getElementById("ratio"), rv = document.getElementById("rval");
r.addEventListener("input", ()=> rv.textContent = (r.value/100).toFixed(2));
const icol = document.getElementById("icol"), icolv = document.getElementById("icolv");
icol.addEventListener("input", ()=> icolv.textContent = icol.value + "%");
</script>
</body>
</html>
