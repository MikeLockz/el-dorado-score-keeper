@use '../../styles/mixins/breakpoints' as breakpoints;
@use '../../styles/mixins/layout' as layout;
@use '../../styles/tokens/spacing' as spacing;

.root {
  @include layout.stack('space-6');
}

.sectionCard {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-4');
  padding: spacing.spacing('space-4');
}

.sectionHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: spacing.spacing('space-3');
}

.sectionTitle {
  display: inline-flex;
  align-items: center;
  gap: spacing.spacing('space-2');
  font-size: 1.125rem;
  font-weight: 600;
}

.headingIcon {
  inline-size: 1.25rem;
  block-size: 1.25rem;
}

.sectionDescription {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  margin: 0;
}

.sectionActions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: spacing.spacing('space-2');
}

.sectionLink {
  font-size: 0.875rem;
  color: var(--color-primary);
  text-decoration: none;
  text-underline-offset: 0.25rem;
  transition:
    color 160ms ease,
    text-decoration-color 160ms ease;

  &:hover,
  &:focus-visible {
    text-decoration: underline;
  }
}

.noticeCard {
  border: 1px dashed var(--color-muted);
  border-radius: var(--radius-md);
  padding: spacing.spacing('space-6');
  text-align: center;
  color: var(--color-muted-foreground);
}

.noticeStack {
  @include layout.stack('space-3');
  align-items: center;
}

.noticeActions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: spacing.spacing('space-2');
}

.select {
  height: 2.25rem;
  padding-inline: spacing.spacing('space-2');
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: 0.875rem;
  background: var(--color-background);
  color: var(--color-foreground);
}

.playerList {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: var(--color-background);
}

.playerList > * + * {
  border-top: 1px solid var(--color-border);
}

.playerRow {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-3');
  padding: spacing.spacing('space-3');
  transition:
    background-color 160ms ease,
    opacity 160ms ease;
}

.playerRowDraggable {
  cursor: grab;
  user-select: none;

  &:active {
    cursor: grabbing;
  }
}

.playerRowDragging {
  opacity: 0.6;
}

@media (prefers-reduced-motion: no-preference) {
  .playerRow {
    transition:
      background-color 160ms ease,
      opacity 160ms ease;
  }
}

.playerHeader {
  display: flex;
  align-items: center;
  gap: spacing.spacing('space-3');
}

.dragIcon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: 2rem;
  block-size: 2rem;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: color-mix(in oklch, var(--muted) 90%, transparent);
  color: var(--color-muted-foreground);
  font-size: 0.875rem;
  font-weight: 500;

  :global(svg) {
    inline-size: 1rem;
    block-size: 1rem;
  }
}

.playerName {
  font-size: 0.875rem;
  font-weight: 500;
}

.playerMeta {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.playerActions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: spacing.spacing('space-2');
}

.playerFooter {
  padding-top: spacing.spacing('space-3');
  text-align: right;
}

.infoRow {
  display: flex;
  justify-content: flex-end;
}

.infoText {
  font-size: 0.875rem;
  color: var(--color-primary);
  text-decoration: none;
  text-underline-offset: 0.25rem;

  &:hover,
  &:focus-visible {
    text-decoration: underline;
  }
}

.archivedList,
.archivedRostersList {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.archivedList > * + *,
.archivedRostersList > * + * {
  border-top: 1px solid var(--color-border);
}

.archivedRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: spacing.spacing('space-3');
  font-size: 0.875rem;
}

.archivedInfo {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-1');
}

.archivedMeta {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.rosterCard {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-4');
  padding: spacing.spacing('space-4');
}

.rosterActions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: spacing.spacing('space-2');
}

.spinner {
  inline-size: 1rem;
  block-size: 1rem;
  animation: player-management-spin 1s linear infinite;
}

@keyframes player-management-spin {
  to {
    transform: rotate(360deg);
  }
}

.rosterGrid {
  display: grid;
  gap: spacing.spacing('space-3');
}

.rosterItem {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: spacing.spacing('space-3');
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-3');
  cursor: pointer;
  transition:
    border-color 160ms ease,
    box-shadow 160ms ease,
    background-color 160ms ease;

  &:hover {
    border-color: color-mix(in oklch, var(--color-border) 60%, transparent);
    background: color-mix(in oklch, var(--muted) 94%, transparent);
  }

  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px color-mix(in oklch, var(--color-primary) 35%, transparent);
  }
}

.rosterHeader {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-3');

  @include breakpoints.respond(sm) {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.rosterPrimary {
  display: flex;
  flex-direction: column;
  gap: spacing.spacing('space-1');
}

.rosterTitle {
  font-size: 0.875rem;
  font-weight: 600;
}

.rosterMeta {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.rosterActionsInline {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: spacing.spacing('space-2');
}

.rosterPlayers {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.rosterEmpty {
  border: 1px dashed var(--color-muted);
  border-radius: var(--radius-md);
  padding: spacing.spacing('space-6');
  text-align: center;
  color: var(--color-muted-foreground);
  @include layout.stack('space-3');
}

.archivedToggle {
  display: inline-flex;
  align-items: center;
  gap: spacing.spacing('space-2');
  font-size: 0.875rem;
  color: var(--color-foreground);
  cursor: pointer;

  input[type='checkbox'] {
    inline-size: 1rem;
    block-size: 1rem;
    margin: 0;
    accent-color: var(--color-primary);
  }
}

.mtSmall {
  margin-top: spacing.spacing('space-2');
}
